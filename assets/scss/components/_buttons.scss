@use "sass:meta";
@use "sass:map";
@use "../base/globals" as *;

%uk-md-base {
    position: relative;
    overflow: hidden; // for ripple
    border-radius: $border-radius-main;
    padding: 0.5rem 0.9rem;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;

    @include box-shadow(0 1px 3px alpha(#151515, 0.08), 0 1px 2px alpha(#151515, 0.04));
    transition:
        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),
        box-shadow 160ms ease,
        background-color 160ms ease;

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 4px alpha($color-primary, 0.12);
    }
    &::after {
        content: "";
        position: absolute;
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0.9;
        pointer-events: none;
        width: 12px;
        height: 12px;
        left: 50%;
        top: 50%;
        background: alpha(#ffffff, 0.18);
        transition:
            transform 420ms cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 420ms;
    }
    &:active::after {
        transform: translate(-50%, -50%) scale(8);
        opacity: 0;
        transition: none;
    }
    .uk-button__icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
    }
    .uk-icon {
        color: inherit !important;
        &.uk-icon-link {
            color: inherit !important;
        }
    }
}

.btn,
.uk-button {
    @include box-shadow($shadow-light);
    @include transition(
        color,
        background-color,
        background,
        box-shadow,
        transform,
        top,
        border-radius,
        border-color,
        filter,
        text-shadow,
        border-radius
    );

    border: 0;
    @extend %uk-md-base;

    &[aria-label="RSS feed"] {
        background: none;
        background-color: #f26522;
        color: #fff !important;
        .uk-icon {
            fill: #fff !important;
            &.uk-icon-link {
                color: #fff !important;
            }
        }
        &:hover,
        &:active,
        &:focus {
            background: rgba(243, 129, 40, 1);
            background: linear-gradient(
                303deg,
                rgba(242, 101, 34, 1) 20%,
                rgba(243, 129, 40, 1) 50%,
                rgba(242, 101, 34, 1) 80%
            );
        }
    }
}

.speech-reader-button {
    a.uk-button {
        &.uk-button-default {
            background: transparent;
            color: #fff;
            .uk-icon {
                fill: #fff !important;
                &.uk-icon-link {
                    color: #fff !important;
                }
            }
        }
    }

    &.is-speaking {
        a.uk-button {
            &.uk-button-default {
                &:hover,
                &:active,
                &:focus {
                    background: #fff;
                    color: $color-primary !important;
                    .uk-icon {
                        fill: $color-primary !important;
                        &.uk-icon-link {
                            color: $color-primary !important;
                        }
                    }
                }
            }
        }
    }
}
